# Backend service log rotation configuration for SpheroSeg
# Access logs for IT audit trail - kept for 90 days
/home/cvat/cell-segmentation-hub/logs/blue/backend/access.log {
    daily
    missingok
    rotate 90
    compress
    delaycompress
    notifempty
    create 0644 cvat cvat
    dateext
    dateformat -%Y-%m-%d
    sharedscripts
    copytruncate

    # Access logs contain user authentication and request audit trail
    # Retained for 90 days for compliance
}

# Green environment access logs
/home/cvat/cell-segmentation-hub/logs/green/backend/access.log {
    daily
    missingok
    rotate 90
    compress
    delaycompress
    notifempty
    create 0644 cvat cvat
    dateext
    dateformat -%Y-%m-%d
    sharedscripts
    copytruncate
}