# Common Configuration - Shared between Blue and Green deployments
# This file contains configuration that is the same across all environments
#
# IMPORTANT: Copy this file to .env.common and fill in the actual values
# NEVER commit .env.common with real credentials to git!

# === Application Settings ===
NODE_ENV=production
HOST=0.0.0.0

# === Email Service Configuration ===
EMAIL_SERVICE=smtp
SMTP_HOST=mail.utia.cas.cz
SMTP_PORT=25
SMTP_SECURE=false
SMTP_REQUIRE_TLS=true
SMTP_AUTH=false
# Only set these if SMTP_AUTH=true
SMTP_USER=YOUR_SMTP_USER_HERE
SMTP_PASS=YOUR_SMTP_PASSWORD_HERE
FROM_EMAIL=spheroseg@utia.cas.cz
FROM_NAME="SpheroSeg"

# === Email Timeout Settings ===
EMAIL_TIMEOUT=300000
SMTP_CONNECTION_TIMEOUT_MS=15000
SMTP_GREETING_TIMEOUT_MS=15000
SMTP_SOCKET_TIMEOUT_MS=300000
EMAIL_GLOBAL_TIMEOUT=600000

# === Email Retry Configuration ===
EMAIL_MAX_RETRIES=3
EMAIL_RETRY_INITIAL_DELAY=5000
EMAIL_RETRY_MAX_DELAY=30000
EMAIL_RETRY_BACKOFF_FACTOR=2

# === Email Features ===
SKIP_EMAIL_SEND=false
REQUIRE_EMAIL_VERIFICATION=false
SMTP_IGNORE_TLS=false
EMAIL_ALLOW_INSECURE=false

# === JWT Configuration ===
# Generate secure secrets with: openssl rand -hex 32
JWT_ACCESS_SECRET=YOUR_JWT_ACCESS_SECRET_HERE_USE_OPENSSL_RAND_HEX_32
JWT_REFRESH_SECRET=YOUR_JWT_REFRESH_SECRET_HERE_USE_OPENSSL_RAND_HEX_32

# === File Storage ===
STORAGE_TYPE=local
MAX_FILE_SIZE=10485760

# === Rate Limiting ===
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=2000

# === Monitoring ===
OTEL_SAMPLING_RATE=0.1
ENABLE_TRACING=false

# === SSL/TLS Configuration ===
SSL_DOMAIN=spherosegapp.utia.cas.cz
SSL_CERT_PATH=/etc/letsencrypt/live/spherosegapp.utia.cas.cz